{"version":3,"sources":["images/unnamed.png","components/Logo.js","images/LogoBusybag.png","components/Loading.js","firebase.js","service/AuthContext.js","pages/Signup.js","service/DatabaseContext.js","service/ProjectContext.js","service/ThemeContext.js","service/AppTransitionContext.js","components/BottomNav.js","components/TopNav.js","components/ProjectSelection.js","pages/Dashboard.js","pages/CreateProject.js","pages/ModifyProject.js","components/Repeatmodal.js","pages/CreateTask.js","components/TaskSelection.js","pages/ProjectOverview.js","pages/HistoryView.js","pages/Taskboard.js","pages/UpdateProfile.js","pages/Login.js","components/PrivateRoute.js","pages/ForgotPassword.js","components/App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["Logo","className","src","logo","alt","Loading","width","app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","GoogleAuthProvider","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","logout","signOut","signup","createUserWithEmailAndPassword","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","onSubmit","type","placeholder","ref","disabled","to","DatabaseContext","useDB","DatabaseProvider","projects","setProjects","projectloading","setProjectloading","docId","projectRef","collection","doc","get","exists","data","shared","console","log","update","where","onSnapshot","snapshop","docs","map","id","addHistoryEntryToProject","taskName","currentdate","Date","datetime","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","task","projectid","shareProjectWithUser","addProject","project","description","color","add","name","owner","then","docRef","catch","modifyProject","getCurrentProjectData","deleteProject","snapshot","forEach","delete","addTaskToProject","taskDescription","ProjectContext","useProject","ProjectProvider","setProjectId","projectName","setProjectName","projectColor","setProjectColor","setProjectDescription","projectOwner","setProjectOwner","setProjectShared","projectOverview","setProjectOverview","tasks","setTasks","userTasks","setUserTasks","loadingTasksFromProject","userId","loadingTasksFromUser","item","loadProjectById","assignProject","assignTaskboard","deleteTaskFromProject","taskId","ThemeContext","ThemeProvider","themePrimary","setThemePrimary","toggleTheme","AppTransitionContext","AppTransitionProvider","preset","setPreset","enterAnimation","setEnterAnimation","exitAnimation","setExitAnimation","BottomNav","length","window","alert","uid","size","onClick","TopNav","title","ProjectSelection","i","style","backgroundColor","handleToProjectOverview","Dashboard","CreateProject","projectNameRef","projectDescriptionRef","projectColorRef","setColor","goBack","onChange","target","ModifyProject","projectOwnerRef","projectname","setProjectname","projectdescription","setProjectdescription","newProjectDetails","removeFromProject","confirm","deleteFromProject","readOnly","index","Repeatmodal","showModal","setShowRepeatModal","amountTimeframeRef","applyRepeatSettings","typeTimeframeRef","endRepeatFrame","weekDays","setWeekDays","amountTimeframe","setAmountTimeframe","showWeekDays","setShowWeekDays","dateFrame","attemptsFrame","radioType","setRadioType","handleRadioChange","event","getType","getRadioSelectedInput","handlingSubmit","min","state","newButtons","produce","weekdayCopy","defaultChecked","CreateTask","taskNameRef","taskDescriptionRef","projectInit","setProjectInit","showRepeatmodal","repeatFrame","setRepeatFrame","timeFrame","weekdays","substring","TaskSelection","props","enterProject","setEnterProject","itemId","newProjectInfo","newProjectData","prompt","filter","displayDate","repeatSettings","currentDate","handleCompleteTask","handleTaskMenu","ProjectOverview","HistoryView","reverse","Taskboard","j","UpdateProfile","promises","Promise","all","finally","defaultValue","Login","PrivateRoute","Component","component","rest","render","ForgotPassword","message","setMessage","App","location","transitionKey","pathname","exact","path","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.be324f5c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/unnamed.ea125fe9.png\";","import React from 'react'\r\nimport logo from '../images/unnamed.png';\r\n\r\nexport default function Logo() {\r\n    return (\r\n        <div className=\"logo-container\">\r\n            <img src={logo} alt=\"Logo\" />\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/LogoBusybag.b9473507.png\";","import React from 'react'\r\nimport logo from '../images/LogoBusybag.png';\r\n\r\nexport default function Loading() {\r\n    const style ={\r\n        backgroundColor: \"red\",\r\n        position: \"absolute\",\r\n        zIndex: \"10000\",\r\n    }\r\n    \r\n    return (\r\n        <div className=\"full-page-loader\">\r\n            <img src={logo} width=\"200\" alt=\"busybag logo\"  />\r\n      </div>\r\n    )\r\n}\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n    // apiKey: \"AIzaSyAPyppmyjBKQjIS4o1nRk6N-UxkW54rFPA\",\r\n    // authDomain: \"busybag-f27f9.firebaseapp.com\",\r\n    // projectId: \"busybag-f27f9\",\r\n    // storageBucket: \"busybag-f27f9.appspot.com\",\r\n    // messagingSenderId: \"622475419405\",\r\n    // appId: \"1:622475419405:web:d8022f00e74e3ede131a44\"\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const firestore = app.firestore()\r\nexport default app","import React, { useContext, useState , useEffect } from 'react'\r\nimport Loading from '../components/Loading'\r\nimport {auth,provider} from '../firebase'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth(){\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider( {children} ) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function signup(email, password){\r\n        return auth.createUserWithEmailAndPassword(email,password)\r\n    }\r\n\r\n    function login(email,password){\r\n        return auth.signInWithEmailAndPassword(email,password)\r\n    }\r\n\r\n    function loginWithGoogle(){\r\n        return auth.signInWithPopup(provider)\r\n    }\r\n\r\n    function logout(){\r\n        return auth.signOut()\r\n    }\r\n\r\n    function resetPassword(email){\r\n        return auth.sendPasswordResetEmail(email)\r\n    }\r\n\r\n    function updateEmail(email){\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password){\r\n        return currentUser.updatePassword(password)\r\n    }\r\n\r\n    useEffect(() => {\r\n        // auth.onAuthStateChanged(function(user) {\r\n        //     if (user) {\r\n        //       // User is signed in.\r\n        //       console.log(user)\r\n        //       console.log(user.displayName)\r\n        //       console.log(user.email)\r\n        //       console.log(user.photoURL)\r\n        //       console.log(user.emailVerified)\r\n        //       console.log(user.uid)\r\n        //     } else {\r\n        //       // No user is signed in.\r\n        //     }\r\n        //   });\r\n\r\n          \r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        return unsubscribe\r\n    },[]) \r\n\r\n    const value = {\r\n        currentUser,\r\n        loading,\r\n        login,\r\n        logout,\r\n        signup,\r\n        resetPassword,\r\n        updateEmail,\r\n        updatePassword\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n            {loading && Loading}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Logo from '../components/Logo';\r\nimport { useAuth } from '../service/AuthContext'\r\n\r\nexport default function Signup() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const {signup } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError('Passwords do not match')\r\n        }\r\n        try{\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value)\r\n            history.push(\"/\")\r\n        }catch{\r\n            setError('Failed to create an Acccount')\r\n        }\r\n        setLoading(true)\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <h2>Busybag</h2>\r\n                <Logo/>\r\n                <p>Keep track and do all</p>\r\n                <div className=\"card\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input type=\"email\" placeholder=\"Email\" ref={emailRef}/>\r\n                        <input type=\"password\" placeholder=\"Password\"ref={passwordRef}/>\r\n                        <input type=\"password\" placeholder=\"Password Confirm\" ref={passwordConfirmRef}/>\r\n                        {error && <h1>{error}</h1>}\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading}> Sign up </button>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    Already have an account? <Link to=\"/login\">Login</Link>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport {firestore} from '../firebase'\r\nimport {auth} from '../firebase'\r\n\r\nconst DatabaseContext = React.createContext()\r\n\r\nexport function useDB(){\r\n    return useContext(DatabaseContext)\r\n}\r\n\r\nexport function DatabaseProvider( {children} ) {\r\n    const [projects,setProjects] = useState([]);\r\n    const [projectloading, setProjectloading] = useState(true)\r\n\r\n    //init values\r\n    useEffect(()=>{\r\n        const unsubscribe = auth.onAuthStateChanged(async function(user) {\r\n            if (user) {\r\n            firestore.collection(\"projects\").where(\"shared\", \"array-contains\",user.email)\r\n                .onSnapshot(snapshop => { \r\n                    setProjects(\r\n                        snapshop.docs.map(\r\n                            doc=>(\r\n                                {id:doc.id,data:doc.data()}\r\n                                )\r\n                            )\r\n                        )\r\n                    setProjectloading(false)\r\n                  }\r\n                )\r\n                \r\n            }else{\r\n                setProjectloading(false)\r\n            }\r\n          });\r\n        // let isMounted = true;\r\n        // return () => { isMounted = false };\r\n        return unsubscribe    \r\n    },[])\r\n\r\n    async function shareProjectWithUser(email,docId){\r\n        const projectRef = firestore.collection('projects').doc(docId);\r\n        const doc = await projectRef.get();\r\n        if (!doc.exists) {\r\n            console.log('No such document!');\r\n        } else {\r\n            let data = doc.data()\r\n            data.shared.push(email)\r\n            console.log('Document data:', data.shared);\r\n            firestore.collection('projects').doc(docId).update({\r\n                shared: data.shared\r\n            });\r\n        }\r\n    }\r\n\r\n    function addProject(project,description, color, user){\r\n        firestore.collection(\"projects\").add({\r\n            name:project,\r\n            description:description,\r\n            color:color,\r\n            owner: user,\r\n            shared:[user],\r\n            history:[]\r\n        }).then(docRef => {\r\n            return docRef.id            \r\n        })\r\n        .catch(error => console.error(\"Error adding document: \", error))\r\n    }\r\n\r\n    function addTaskToProject(projectId,taskName,taskDescription,user){\r\n        firestore.collection(projectId).add({\r\n            name:taskName,\r\n            description:taskDescription,\r\n            user:user,\r\n        })\r\n        addHistoryEntryToProject(user,projectId,taskName);\r\n    }\r\n\r\n    class HistoryEntry{\r\n        constructor(email=\"\",task=\"\"){\r\n          this.email = email;\r\n          this.task = task;\r\n          this.currentdate = new Date();\r\n          this.datetime =\"Time: \" + this.currentdate.getDate() + \"/\"\r\n          + (this.currentdate.getMonth()+1)  + \"/\" \r\n          + this.currentdate.getFullYear() + \" - \"  \r\n          + this.currentdate.getHours() + \":\"  \r\n          + this.currentdate.getMinutes() + \":\" \r\n          + this.currentdate.getSeconds();\r\n        }\r\n      }\r\n\r\n    async function addHistoryEntryToProject(email,docId, taskName){\r\n        const projectRef = firestore.collection('projects').doc(docId);\r\n        const doc = await projectRef.get();\r\n        if (!doc.exists) {\r\n            console.log('No such document!');\r\n        } else {\r\n            var currentdate = new Date(); \r\n            var datetime = \"Time: \" + currentdate.getDate() + \"/\"\r\n                + (currentdate.getMonth()+1)  + \"/\" \r\n                + currentdate.getFullYear() + \" - \"  \r\n                + currentdate.getHours() + \":\"  \r\n                + currentdate.getMinutes() + \":\" \r\n                + currentdate.getSeconds();\r\n            let data = doc.data()\r\n            console.log(data);\r\n            data.history.push({email: email, task: taskName, currentdate: currentdate, datetime: datetime})\r\n            console.log('Document data:', data.history);\r\n            firestore.collection('projects').doc(docId).update({\r\n                history: data.history\r\n            });\r\n        }\r\n    }\r\n\r\n    function modifyProject(project){\r\n        firestore.collection(\"projects\").doc(project.id).update({\r\n            color: project.data.color,\r\n            description: project.data.description,\r\n            name: project.data.name,\r\n            owner: project.data.owner,\r\n            \r\n        })\r\n    }\r\n\r\n    async function getCurrentProjectData(projectid){\r\n        const projectRef = firestore.collection('projects').doc(projectid);\r\n        const doc = await projectRef.get();\r\n        if (!doc.exists) {\r\n            return \"\";\r\n        } else {\r\n            let data = doc.data()\r\n            return data;\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    function deleteProject(projectid){\r\n        const ref = firestore.collection(projectid)\r\n        ref.onSnapshot((snapshot) => {\r\n            snapshot.docs.forEach((doc) => {\r\n            ref.doc(doc.id).delete()\r\n            })\r\n        })\r\n        firestore.collection(projectid).doc(projectid).delete()\r\n        firestore.collection(\"projects\").doc(projectid).delete();\r\n    }\r\n\r\n    // https://github.com/oghur/React-todo-App-with-connection-to-Firebase/blob/main/src/App.js\r\n    \r\n\r\n    const value = {\r\n        projects,\r\n        shareProjectWithUser,\r\n        addProject,\r\n        modifyProject,\r\n        getCurrentProjectData,\r\n        deleteProject,\r\n        addTaskToProject,\r\n        addHistoryEntryToProject,\r\n        projectloading,\r\n    }\r\n    return (\r\n        <DatabaseContext.Provider value={value}>\r\n            {children}\r\n        </DatabaseContext.Provider>\r\n    )\r\n}\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport Loading from '../components/Loading'\r\nimport {firestore} from '../firebase'\r\n\r\nexport const ProjectContext = React.createContext()\r\n\r\nexport function useProject(){\r\n    return useContext(ProjectContext)\r\n}\r\n\r\nexport function ProjectProvider( {children} ) {\r\n    const [projectId, setProjectId] = useState('')\r\n    const [projectName, setProjectName] = useState('')\r\n    const [projectColor, setProjectColor] = useState('')\r\n    const [projectDescription, setProjectDescription] = useState('')\r\n    const [projectOwner, setProjectOwner] = useState('')\r\n    const [projectShared, setProjectShared] = useState([])\r\n    const [projectOverview, setProjectOverview] = useState({})\r\n    const [tasks, setTasks] = useState([])\r\n    const [userTasks, setUserTasks] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        // console.log(projectName == \"\"? setLoading(false):setLoading(true));\r\n        \r\n        setLoading(false)        \r\n    },[projectId])\r\n\r\n    function loadProjectById(projectId){\r\n        setProjectId(projectId);\r\n    }\r\n\r\n    async function assignProject(project){\r\n        await loadingTasksFromProject(project.id)\r\n        await setProjectId(project.id);\r\n        await setProjectName(project.data.name)\r\n        await setProjectColor(project.data.color)\r\n        await setProjectDescription(project.data.description)\r\n        await setProjectOwner(project.data.owner)\r\n        await setProjectShared(project.data.shared)\r\n        await setProjectOverview(project)\r\n    }\r\n\r\n    function loadingTasksFromProject(projectId){\r\n        return firestore.collection(projectId)\r\n        .onSnapshot(snapshop => {\r\n            setTasks(\r\n                snapshop.docs.map(\r\n                    doc=>({id:doc.id,data:doc.data()})\r\n                    )\r\n                )\r\n            setLoading(false)\r\n            }\r\n        )\r\n        \r\n    }\r\n\r\n    \r\n    async function assignTaskboard(userId){\r\n        await loadingTasksFromUser(userId)\r\n    }\r\n\r\n    function loadingTasksFromUser(userId){\r\n        firestore.collection('users').where(\"id\", \"==\",userId).onSnapshot(snapshop => setUserTasks(\r\n            snapshop.docs.map(\r\n                doc=> doc.data().task.map(\r\n                    item => ({id:item.id,data:item})\r\n                    )\r\n                )\r\n            )\r\n        )\r\n        setLoading(false)\r\n    }\r\n    \r\n    function deleteTaskFromProject(projectId,taskId){\r\n        firestore.collection(projectId).doc(taskId).delete()\r\n    }\r\n\r\n    const value = {\r\n        loadProjectById,\r\n        assignProject,\r\n        assignTaskboard,\r\n        tasks,\r\n        setTasks,\r\n        userTasks,\r\n        setUserTasks,\r\n        projectName,\r\n        projectColor,\r\n        projectId,\r\n        projectOwner,\r\n        projectOverview,\r\n        setProjectShared,\r\n        loadingTasksFromProject,\r\n        deleteTaskFromProject\r\n    }\r\n\r\n    return (\r\n        <ProjectContext.Provider value={value}>\r\n            {!loading && children}\r\n        </ProjectContext.Provider>\r\n    )\r\n}","import React, { useContext, useState, useEffect } from 'react'\r\n\r\nexport const ThemeContext = React.createContext()\r\n\r\nexport function useTheme(){\r\n    return useContext(ThemeContext)\r\n}\r\n\r\nexport function ThemeProvider( {children} ) {\r\n    const [themePrimary, setThemePrimary] = useState('')\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function toggleTheme(themePrimary){\r\n        themePrimary === '#047AED' ? setThemePrimary('#E13B64') : setThemePrimary('#047AED')\r\n        return themePrimary\r\n    }\r\n\r\n    useEffect(() => {\r\n        setThemePrimary('#E13B64')\r\n        setLoading(false)\r\n    },[]) \r\n\r\n\r\n    const value = {\r\n        themePrimary,\r\n        toggleTheme\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={value}>\r\n            {!loading && children}\r\n        </ThemeContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from \"react\";\r\n\r\nexport const AppTransitionContext = createContext();\r\n\r\nexport function AppTransitionProvider({ children }) {\r\n  const [preset, setPreset] = useState(\"cubeToLeft\");\r\n  const [enterAnimation, setEnterAnimation] = useState(\"\");\r\n  const [exitAnimation, setExitAnimation] = useState(\"\");\r\n\r\n  return (\r\n    <AppTransitionContext.Provider\r\n      value={{\r\n        preset,\r\n        enterAnimation,\r\n        exitAnimation,\r\n        setPreset,\r\n        setEnterAnimation,\r\n        setExitAnimation\r\n      }}\r\n    >\r\n      {children}\r\n    </AppTransitionContext.Provider>\r\n  );\r\n}\r\n","import React, {useContext} from 'react'\r\nimport { Link, useHistory} from 'react-router-dom'\r\nimport { AiOutlinePlusCircle, AiOutlineBorder } from 'react-icons/ai'\r\nimport { BsListTask } from 'react-icons/bs'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\nimport {useDB} from '../service/DatabaseContext'\r\nimport {useAuth} from '../service/AuthContext'\r\nimport {useProject} from '../service/ProjectContext'\r\n\r\nexport default function BottomNav() {\r\n    const history = useHistory()\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n    const { projects } = useDB()\r\n    const {currentUser} = useAuth()\r\n    const {assignTaskboard , userTasks} = useProject()\r\n    \r\n    async function handleToCreateTask(){\r\n        try {\r\n            if(projects.length === 0){\r\n                window.alert(\"You need to create a Project first, before you can create Tasks!\");\r\n                await setPreset(\"cubeToBottom\")\r\n                history.push('/create-project')\r\n            }else{\r\n            await setPreset(\"cubeToTop\")\r\n            history.push('/create-task')\r\n            }\r\n        } catch (error) {\r\n\r\n        }\r\n    }\r\n\r\n    async function handleToTaskboard(){\r\n        try {\r\n            // needs to be implemented as own Provider\r\n            // await assignProject(project);\r\n            console.log(userTasks)\r\n            await assignTaskboard(currentUser.uid)\r\n            await setPreset(\"cubeToLeft\")\r\n            history.push('/task-board')\r\n            // TODO \r\n            // 1. set Dashboard & Taskboard seperate\r\n            // 2. implement some load project by ID, and open only if user is shared to this particular project\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar-bottom\">\r\n                <Link to=\"/\"><AiOutlineBorder size=\"2em\" /></Link>\r\n                <Link onClick={handleToCreateTask}><AiOutlinePlusCircle size=\"2em\"/></Link>\r\n                <Link onClick={handleToTaskboard} ><BsListTask size=\"2em\"/></Link>\r\n                </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react'\r\nimport { useHistory} from 'react-router-dom'\r\nimport {useAuth} from '../service/AuthContext'\r\nimport { AiFillSetting } from 'react-icons/ai'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\n\r\nexport default function TopNav() {\r\n    const { currentUser } = useAuth()\r\n    const history = useHistory()\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n    async function handleToProfile(){\r\n        try {\r\n            await setPreset(\"moveToLeftFromRight\")\r\n            history.push('/update-profile')\r\n        } catch (error) {\r\n        }\r\n\r\n    }\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <div className=\"navbar-top\">\r\n                <a className=\"align-right\" onClick={handleToProfile}>\r\n                        <AiFillSetting title={currentUser.email} color=\"red\" size=\"1.5em\"/>\r\n                    </a>\r\n                <div className=\"align-placeholder\">\r\n                </div>\r\n                <h2>Busybag</h2>\r\n                <p>Keep track and do all</p>\r\n                <strong>Email:</strong>{currentUser.email}\r\n            </div>\r\n            <div className=\"navbar-placeholder\">\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext,useEffect,useState} from 'react';\r\nimport { /*Link*/ useHistory } from 'react-router-dom'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext';\r\nimport { useProject } from '../service/ProjectContext';\r\nimport {useDB} from '../service/DatabaseContext';\r\nimport Loading from './Loading';\r\n\r\nexport default function ProjectSelection() {\r\n    const { assignProject, loadProjectById } = useProject()\r\n    const history = useHistory()\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n    const { projects, deleteProject, projectloading,projectOverview } = useDB()\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n      },[]);\r\n\r\n    async function handleToProjectOverview(project){\r\n        try {\r\n            console.log(project.id)\r\n            await assignProject(project);\r\n            // await setPreset(\"newspaper\")\r\n            await setPreset(\"pushTopPullBottom\")\r\n            history.push('/project-overview')\r\n            // TODO \r\n            // 1. set Dashboard & Taskboard seperate\r\n            // 2. implement some load project by ID, and open only if user is shared to this particular project\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"projects\">\r\n            {!projectloading && projects.map((project,i) =>  (\r\n                        <div key={i} className=\"project\" style={{backgroundColor:project.data.color}} onClick={() =>handleToProjectOverview(project)}>\r\n                            <div>{project.data.name}</div>\r\n                            {/* <button > Open </button> */}\r\n                        </div>\r\n                        ))}\r\n            {projectloading && <h6>Loading...</h6>}\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useContext,useEffect,lazy } from 'react'\r\nimport { /*Link*/ useHistory } from 'react-router-dom'\r\nimport {useAuth} from '../service/AuthContext'\r\nimport {useTheme} from '../service/ThemeContext'\r\nimport {useDB} from '../service/DatabaseContext'\r\nimport { useProject } from '../service/ProjectContext'\r\nimport BottomNav from '../components/BottomNav'\r\nimport TopNav from '../components/TopNav'\r\nimport { AiOutlinePlus } from 'react-icons/ai'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\nimport ProjectSelection from '../components/ProjectSelection'\r\nimport Loading from '../components/Loading'\r\n\r\n\r\n\r\nexport default function Dashboard() {\r\n    const [error, setError] = useState('')\r\n    const {currentUser, loading} = useAuth()\r\n    const { themePrimary, toggleTheme } = useTheme()\r\n    const { projectloading } = useDB()\r\n    const { assignProject } = useProject()\r\n    const history = useHistory()\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n        \r\n      },[]);\r\n\r\n    \r\n    function changeColor(){\r\n        toggleTheme(themePrimary)\r\n    }\r\n    async function handleToProjectCreate(){\r\n        try {\r\n            await setPreset(\"cubeToBottom\")\r\n            history.push('/create-project')\r\n            // TODO set Dashboard & Taskboard seperate\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    async function handleToProjectOverview(project){\r\n        try {\r\n            await assignProject(project);\r\n            // await setPreset(\"newspaper\")\r\n            await setPreset(\"pushTopPullBottom\")\r\n            history.push('/project-overview')\r\n            // TODO \r\n            // 1. set Dashboard & Taskboard seperate\r\n            // 2. implement some load project by ID, and open only if user is shared to this particular project\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const styleTest = {\r\n        backgroundColor: themePrimary,\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            \r\n            <div className=\"container text-center\">\r\n                <TopNav />\r\n                <div className=\"main-container\">\r\n                    {error && <h1>{error}</h1>}\r\n                    <div className=\"projects\">\r\n                        {!loading && <button onClick={handleToProjectCreate} className=\"project flex-center\">\r\n                                <AiOutlinePlus size=\"4em\"/>\r\n                            </button>}\r\n                    </div>\r\n                    <ProjectSelection />\r\n                </div>\r\n                \r\n                {/* <div>\r\n                    <button onClick={changeColor} style={styleTest}>ChangeColor</button>\r\n                    <h1>{themePrimary}</h1>\r\n                </div> */}\r\n                <BottomNav />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React, { useRef, useState, useContext } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { useDB } from '../service/DatabaseContext'\r\nimport { AiOutlineArrowLeft } from 'react-icons/ai'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\n\r\nexport default function CreateProject() {\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n\r\n    const projectNameRef = useRef()\r\n    const projectDescriptionRef = useRef()\r\n    const projectColorRef = useRef()\r\n\r\n    const { currentUser } = useAuth()\r\n    const { addProject } = useDB()\r\n\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [color, setColor] = useState('#047AED');\r\n\r\n    const history = useHistory()\r\n    \r\n    async function handleToBack(){\r\n        try {\r\n            // await setPreset(\"fall\")\r\n            await setPreset(\"cubeToLeft\")\r\n            // history.push('/')\r\n            history.goBack()\r\n            // TODO set Dashboard & Taskboard seperate\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n        }\r\n\r\n    }\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        if (projectNameRef.current.value.length < 4) {\r\n            return setError('Enter a suitable Projectname')\r\n        }\r\n        setLoading(true)\r\n        setError('')\r\n        //name, description, color, owner\r\n        await addProject(projectNameRef.current.value,projectDescriptionRef.current.value,projectColorRef.current.value,currentUser.email)\r\n        await setPreset(\"cubeToTop\")\r\n        setLoading(false)\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <div className=\"navbar-profile-top\">\r\n                    <div className=\"align-placeholder\">\r\n                        <Link className=\"align-left\" onClick={handleToBack}><AiOutlineArrowLeft title={currentUser.email} color=\"red\" size=\"1.5em\"/></Link>\r\n                    </div>\r\n                    <h2>Busybag</h2>\r\n                    <p>Keep track and do all</p>\r\n                </div>\r\n                <div className=\"navbar-placeholder\">\r\n                </div>\r\n                <h2>Create Project</h2>\r\n                <div className=\"createProject\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        {error && <h1>{error}</h1>}\r\n                        <input type=\"text\" placeholder=\"Projectname...\" ref={projectNameRef} placeholder=\"Enter a Project Name\"/>\r\n                        <input type=\"text\" placeholder=\"Projectdescription...\" ref={projectDescriptionRef} placeholder=\"Describe your Project...\"/>\r\n                        <input type=\"color\" value={color} onChange={e => setColor(e.target.value)} ref={projectColorRef} />\r\n                        <strong>Owner:</strong>{currentUser.email}\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading}> Create </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, { useRef, useState, useContext,useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { useDB } from '../service/DatabaseContext'\r\nimport { useProject } from '../service/ProjectContext'\r\nimport { AiOutlineArrowLeft, AiOutlineUserAdd, AiOutlineUnorderedList } from 'react-icons/ai'\r\nimport { MdDeleteForever } from 'react-icons/md'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\n\r\nexport default function ModifyProject() {\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n\r\n    const projectNameRef = useRef()\r\n    const projectDescriptionRef = useRef()\r\n    const projectColorRef = useRef()\r\n    const projectOwnerRef = useRef()\r\n\r\n    const { currentUser , updatePassword, updateEmail, logout } = useAuth()\r\n    const { modifyProject, deleteProject } = useDB()\r\n    const { projectOverview} = useProject()\r\n\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [projectname, setProjectname] = useState('');\r\n    const [projectdescription, setProjectdescription] = useState('');\r\n    const [color, setColor] = useState('');\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n        console.log(projectOverview)\r\n        setProjectname(projectOverview.data.name)\r\n        setProjectdescription(projectOverview.data.description)\r\n        setColor(projectOverview.data.color)\r\n      },[]);\r\n    \r\n    async function handleToBack(){\r\n        try {\r\n            // await setPreset(\"fall\")\r\n            await setPreset(\"moveToBottomFromTop\")\r\n            // history.push('/')\r\n            history.goBack()\r\n            // TODO set Dashboard & Taskboard seperate\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n        }\r\n\r\n    }\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        if (projectNameRef.current.value.length < 4) {\r\n            return setError('Enter a suitable Projectname')\r\n        }\r\n        setLoading(true)\r\n        setError('')\r\n        // name, description, color, owner\r\n        // await modifyProject(projectNameRef.current.value,projectDescriptionRef.current.value,projectColorRef.current.value,currentUser.email)\r\n        // console.log(projectNameRef.current.value,projectDescriptionRef.current.value,projectColorRef.current.value,currentUser.email)\r\n        console.log(projectOverview)\r\n        const newProjectDetails = {\r\n            data : {\r\n                name:projectNameRef.current.value,\r\n                description: projectDescriptionRef.current.value,\r\n                color: projectColorRef.current.value,\r\n                owner: projectOwnerRef.current.value,\r\n                shared: projectOverview.data.shared\r\n            },\r\n            id: projectOverview.id\r\n        }\r\n        console.log(newProjectDetails)\r\n        await modifyProject(newProjectDetails)\r\n        await setPreset(\"cubeToTop\")\r\n        setLoading(false)\r\n        // history.goBack()\r\n        history.push('/')\r\n    }\r\n\r\n    async function handleLogout(){\r\n        setError('')\r\n        try {\r\n            await logout()\r\n            history.push('/login')\r\n        } catch (error) {\r\n            setError('Failed to log out')\r\n        }\r\n\r\n    }\r\n\r\n    async function handleToHistoryView(){\r\n        await setPreset(\"moveToLeftFromRight\")\r\n        history.push('/history-view')\r\n    }\r\n\r\n    async function removeFromProject(){\r\n        if(window.confirm(`You wanna quite ${projectname} ?`)){\r\n            console.log(\"remove user from this!!!\")\r\n            if(projectOverview.data.shared.length < 2){\r\n                window.alert(`You can't quite ${projectname}, because there are no user to inherit that!`)\r\n            }\r\n        }\r\n    }\r\n\r\n    async function deleteFromProject(){\r\n        if(window.confirm(`Delete everything including ${projectname}?`)){\r\n            deleteProject(projectOverview.id)\r\n            await setPreset(\"fall\")\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <div className=\"navbar-profile-top\">\r\n                    <div className=\"align-placeholder\">\r\n                        <Link className=\"align-left\" onClick={handleToBack}><AiOutlineArrowLeft title={currentUser.email} color=\"red\" size=\"1.5em\"/></Link>\r\n                    </div>\r\n                </div>\r\n                <h2>Modify:</h2>\r\n                <h3>{projectOverview.data.name}</h3>\r\n                <strong>(Owner:{currentUser.email})</strong>\r\n                <div className=\"container\">\r\n                    <button onClick={handleToHistoryView} className=\"history___button\"><AiOutlineUnorderedList size=\"1em\" /> History</button>\r\n                </div>\r\n                {currentUser.email === projectOverview.data.owner ? <div className=\"container\">\r\n                    <button type=\"submit\" className=\"delete___button\" onClick={()=>deleteFromProject()}> <MdDeleteForever size=\"1em\" /> {projectOverview.data.name} </button>\r\n                </div>\r\n                \r\n                :\"\"}\r\n\r\n                {currentUser.email === projectOverview.data.owner ? \r\n                <div className=\"createProject\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        {error && <h1>{error}</h1>}\r\n                        <label className=\"flex\">Projectname:</label>\r\n                        <input type=\"text\" placeholder=\"Projectname...\" value={projectname} onChange={e => setProjectname(e.target.value)} ref={projectNameRef} placeholder=\"Enter a Project Name\"/>\r\n                        <input type=\"text\" placeholder=\"Projectdescription...\" value={projectdescription} onChange={e => setProjectdescription(e.target.value)} ref={projectDescriptionRef} placeholder=\"Describe your Project...\"/>\r\n                        <input type=\"color\" value={color} onChange={e => setColor(e.target.value)} ref={projectColorRef} />\r\n                        <label className=\"flex\">Owner:</label><input type=\"text\" placeholder=\"Projectowner...\" value={projectOverview.data.owner} readOnly={projectOverview.data.owner} ref={projectOwnerRef} placeholder=\"Owner of the Project...\"/>\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading}> Update </button>\r\n                    </form>\r\n                </div>\r\n                : \"\"}\r\n                \r\n                \r\n                <div className=\"container text-center\">\r\n                    <h1><AiOutlineUserAdd size=\"2.5em\" /></h1>\r\n                    <label className=\"flex\">Shared:</label>{projectOverview.data.shared.map((user, index)=> <div className=\"flex\" key={index}>{currentUser.email == user ? <button onClick={removeFromProject}>x</button>: <button disabled>x</button>}{user}</div>)}\r\n                    <button>+ Add Member</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, {useContext,useState,useEffect,useRef} from 'react'\r\nimport produce from 'immer';\r\n\r\nexport default function Repeatmodal({showModal, setShowRepeatModal, amountTimeframeRef,applyRepeatSettings,typeTimeframeRef,endRepeatFrame,weekDays,setWeekDays}) {\r\n\r\n    const [amountTimeframe, setAmountTimeframe] = useState(\"1\");\r\n    const [showWeekDays, setShowWeekDays] = useState(false);\r\n    const dateFrame = useRef()\r\n    const attemptsFrame = useRef()\r\n    const [radioType,setRadioType] = useState(\"never\");\r\n    \r\n\r\n       \r\n    function addWeekDaySettings(){\r\n        if(typeTimeframeRef.current.value === \"weeks\"){\r\n            setShowWeekDays(true);\r\n        }else{\r\n            setShowWeekDays(false);\r\n        }\r\n    }\r\n\r\n    function handleRadioChange(event) {\r\n        const getType = event.target.value;\r\n        setRadioType(getType)\r\n    }\r\n\r\n    function getRadioSelectedInput(type){\r\n        if(type === \"date\"){\r\n            return dateFrame.current.value;\r\n        }\r\n        if(type === \"attempts\"){\r\n            return attemptsFrame.current.value;\r\n        }\r\n        if(type === \"never\"){\r\n            return \"never\"\r\n        }\r\n    }\r\n\r\n    function handlingSubmit(){\r\n        // console.log(amountTimeframe,typeTimeframeRef.current.value,radioType,getRadioSelectedInput(radioType));\r\n        if (getRadioSelectedInput(radioType) == \"\") {\r\n            endRepeatFrame = {\r\n                type:\"never\",\r\n                value: \"never\",\r\n            };\r\n        }else{\r\n            endRepeatFrame = {\r\n                type:radioType,\r\n                value:getRadioSelectedInput(radioType),\r\n            }\r\n        }\r\n        setShowWeekDays(false);\r\n        applyRepeatSettings(endRepeatFrame);\r\n    }\r\n\r\n    function handlingCancel(){\r\n        setShowWeekDays(false);\r\n        setShowRepeatModal(false);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {showModal ? \r\n            <div className=\"repeat-modal flex-center p-1\">\r\n                <div className=\"flex-center flex-d-column m-1 p-1 repeat-content\">\r\n                    <h1>Repeat Settings</h1>\r\n                    <div className=\"flex-center flex-d-row p-1\">\r\n                        <p>every:</p>\r\n                        <input type=\"number\" min=\"1\" value={amountTimeframe} onChange={e => setAmountTimeframe(e.target.value)} ref={amountTimeframeRef} /> \r\n                        <select onChange={addWeekDaySettings} ref={typeTimeframeRef}>\r\n                            <option value=\"days\">Day(s)</option>\r\n                            <option value=\"weeks\">Week</option>\r\n                            <option value=\"months\">Month</option>\r\n                            <option value=\"years\">Year</option>\r\n                        </select>\r\n                    </div>\r\n                    {showWeekDays ? \r\n                    <div className=\"flex flex-d-row flex-j-start\">\r\n                        {weekDays.map((item, i)=>\r\n                            <button key={i} style={item.state == false ? {backgroundColor:\"\"}: {backgroundColor:\"lightblue\"} }\r\n                            onClick={(item)=>{ \r\n                                const newButtons = produce(weekDays, weekdayCopy => {\r\n                                    weekdayCopy[i].state = !weekDays[i].state;\r\n                                })\r\n                                setWeekDays(newButtons);\r\n                            }}\r\n                            >{item.value}</button> \r\n                            )}\r\n                    </div>\r\n                    : \"\"}\r\n                    <div>\r\n                        <h1>Ends:</h1>\r\n                        <div className=\"flex flex-d-column flex-j-start\">\r\n                            <form>\r\n                            <p><input type=\"radio\" name=\"ending\" value=\"never\" defaultChecked onChange={handleRadioChange}/>Never</p>\r\n                            <p><input type=\"radio\" name=\"ending\" value=\"date\" onChange={handleRadioChange}/>At: <input type=\"date\" ref={dateFrame}/></p>\r\n                            <p><input type=\"radio\" name=\"ending\" value=\"attempts\" onChange={handleRadioChange}/>After: <input type=\"number\" min=\"1\" ref={attemptsFrame}/> attempt(s)</p>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                    <button onClick={() => handlingCancel()}>Cancel</button>\r\n                    <button onClick={handlingSubmit}>Apply</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"repeat-background-modal\" onClick={() => handlingSubmit()}>\r\n                    \r\n                </div>\r\n            </div> \r\n            : \"\"}\r\n        </>\r\n    )\r\n}\r\n","import React, { useRef, useState, useContext, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { useDB } from '../service/DatabaseContext'\r\nimport { useProject } from '../service/ProjectContext'\r\nimport { AiOutlineArrowLeft } from 'react-icons/ai'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\nimport Repeatmodal from '../components/Repeatmodal';\r\n\r\nexport default function CreateTask() {\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n\r\n    const taskNameRef = useRef()\r\n    const taskDescriptionRef = useRef()\r\n    const projectRef = useRef()\r\n\r\n    \r\n\r\n    const { currentUser } = useAuth()\r\n    const { projects, addTaskToProject } = useDB()\r\n    const { projectId } = useProject()\r\n\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [projectInit, setProjectInit] = useState(projectId)\r\n    const [showRepeatmodal, setShowRepeatModal] = useState(false);\r\n\r\n    const history = useHistory()\r\n    \r\n    async function handleToDashboard(){\r\n        try {\r\n            // await setPreset(\"fall\")\r\n            await setPreset(\"cubeToLeft\")\r\n            history.push('/')\r\n            // TODO set Dashboard & Taskboard seperate\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n        }\r\n\r\n    }\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        if (taskNameRef.current.value.length < 4) {\r\n            return setError('Enter a suitable Taskname')\r\n        }\r\n        setLoading(true)\r\n        setError('')\r\n        // console.log(projectRef.current.value,taskNameRef.current.value,taskDescriptionRef.current.value,currentUser.email)\r\n        addTaskToProject(projectRef.current.value,taskNameRef.current.value,taskDescriptionRef.current.value,currentUser.email)\r\n        setLoading(false)\r\n        history.goBack()\r\n    }\r\n\r\n    function openRepeatModal(){\r\n        setShowRepeatModal(!showRepeatmodal);\r\n    }\r\n\r\n\r\n    \r\n    const amountTimeframeRef = useRef();\r\n    const typeTimeframeRef = useRef();\r\n    const endTimeframeRef = useRef();\r\n    const [repeatFrame, setRepeatFrame] = useState(\"Once\");\r\n    var endRepeatFrame = {\r\n        type:\"never\",\r\n        value: \"never\",\r\n    };\r\n    const [weekDays, setWeekDays] = useState([\r\n        {value: \"Mo\", state:false},\r\n        {value: \"Tu\", state:false},\r\n        {value: \"We\", state:false},\r\n        {value: \"Th\", state:false},\r\n        {value: \"Fr\", state:false},\r\n        {value: \"Sa\", state:false},\r\n        {value: \"Su\", state:false},\r\n    ])\r\n    function applyRepeatSettings(endRepeatFrame){\r\n        // console.log(amountTimeframeRef.current.value);\r\n        let timeFrame = typeTimeframeRef.current.value;\r\n        let weekdays = \"\";\r\n        if (timeFrame === \"weeks\") {\r\n            weekdays +=\" on\";\r\n            weekDays.map((item,i) => {\r\n                if(item.state){\r\n                    weekdays +=` ${item.value}`;\r\n                } \r\n            })\r\n        }\r\n        if(amountTimeframeRef.current.value === \"1\"){\r\n            timeFrame = timeFrame.substring(0, timeFrame.length - 1);\r\n        }\r\n        console.log(`Amount Repeat:${amountTimeframeRef.current.value}(every...)\\nRepeat Type: ${typeTimeframeRef.current.value}\\nEnding Type: ${endRepeatFrame.type}\\nEnding Timeframe: ${endRepeatFrame.value}`)\r\n        if(endRepeatFrame.type === \"attempts\" && endRepeatFrame.value === \"1\"){\r\n            setRepeatFrame(\"Once\");\r\n        }else{\r\n            setRepeatFrame(\r\n                `every \r\n                ${amountTimeframeRef.current.value === \"1\" ? ` ${timeFrame}`: amountTimeframeRef.current.value + ` ${timeFrame}` }\r\n                ${weekdays}\r\n                ${endRepeatFrame.type === \"date\" ? `until ${endRepeatFrame.value}` : \"\"}\r\n                ${endRepeatFrame.type === \"attempts\" ? ` ${endRepeatFrame.value}` + ' times' : \"\"}\r\n                 `);\r\n        }\r\n        setShowRepeatModal(false);\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <Repeatmodal showModal={showRepeatmodal} setShowRepeatModal={setShowRepeatModal} amountTimeframeRef={amountTimeframeRef} typeTimeframeRef={typeTimeframeRef} endRepeatFrame={endRepeatFrame} applyRepeatSettings={applyRepeatSettings} weekDays={weekDays} setWeekDays={setWeekDays}/>\r\n            <div className=\"container text-center\">\r\n                <div className=\"navbar-profile-top\">\r\n                    <div className=\"align-placeholder\">\r\n                        <Link className=\"align-left\" onClick={handleToDashboard}><AiOutlineArrowLeft title={currentUser.email} color=\"red\" size=\"1.5em\"/></Link>\r\n                    </div>\r\n                    <h2>Busybag</h2>\r\n                    <p>Keep track and do all</p>\r\n                </div>\r\n                <div className=\"navbar-placeholder\">\r\n                </div>\r\n                <h2>Create Task</h2>\r\n                <div className=\"createProject\">\r\n                    <div>\r\n                        {error && <h1>{error}</h1>}\r\n                        <input type=\"text\" placeholder=\"Projectname...\" ref={taskNameRef} placeholder=\"Enter a Task Name\"/>\r\n                        <input type=\"text\" placeholder=\"Projectdescription...\" ref={taskDescriptionRef} placeholder=\"Describe your taks...\"/>\r\n                        <div className=\"text-right\">\r\n                            <div>\r\n                                Recurring? <button onClick={openRepeatModal}>{repeatFrame}</button>\r\n                            </div>\r\n                            <div>\r\n                                Deadline? <button disabled>...</button>\r\n                            </div>\r\n                            <div>\r\n                                Effort? <button disabled>...</button>\r\n                            </div>\r\n                            <div>\r\n                                Assignee? <button disabled>...</button>\r\n                            </div>\r\n                            <div>\r\n                                <select ref={projectRef} value={projectInit} onChange={(e) => setProjectInit(e.target.value)}>\r\n                                {projects.map((item,i) =>  (\r\n                                    <option key={i} value={item.id}>{item.data.name}</option>\r\n                                    ))}\r\n                                    </select>\r\n                            </div>\r\n                        </div>\r\n                        <strong>Owner:</strong>{currentUser.email}\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading} onClick={handleSubmit}> Create </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, {useContext,useEffect,useState} from 'react';\r\nimport { /*Link*/ useHistory } from 'react-router-dom'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { useProject } from '../service/ProjectContext';\r\nimport {useDB} from '../service/DatabaseContext';\r\nimport Loading from './Loading';\r\n\r\nexport default function TaskSelection(props) {\r\n    const history = useHistory()\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n    const { currentUser , updatePassword, updateEmail, logout } = useAuth()\r\n    const { addProject , shareProjectWithUser, addHistoryEntryToProject,getCurrentProjectData } = useDB()\r\n    const { projectId, projectName, projectColor, tasks, deleteTaskFromProject, projectOwner, projectOverview , assignProject} = useProject()\r\n    const { enterProject, setEnterProject} = useState('');\r\n\r\n    function displayDateReached(displayDate,currentDate){\r\n        return +new Date(displayDate) <= +new Date(currentDate);\r\n    }\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n        console.log(projectId)\r\n      },[]);\r\n\r\n    //   console.log(props);\r\n    //   console.log(tasks);\r\n    //   console.log(projectId);\r\n    //   tasks.map((item,i) => {\r\n    //       if ('repeatSettings' in item.data){\r\n    //           console.log(`${item.data.name} contains repeat function!`)\r\n    //           var currentdate = new Date(); \r\n    //           // date + 1\r\n    //           // currentdate.setDate(currentdate.getDate() + 1);\r\n    //           var datetime = currentdate.getFullYear() + \"-\"\r\n    //           + (currentdate.getMonth()+1)  + \"-\" \r\n    //           + currentdate.getDate();\r\n    //           console.log('today: ',datetime)\r\n    //           console.log(item.data.repeatSettings);\r\n    //           console.log(datetime === item.data.repeatSettings['display date'])\r\n    //           /* compare Dates:\r\n    //           const x = new Date('2013-05-23');\r\n    //           const y = new Date('2013-05-23');\r\n  \r\n    //           // less than, greater than is fine:\r\n    //           console.log('x < y', x < y); // false\r\n    //           console.log('x > y', x > y); // false\r\n    //           console.log('x === y', x === y); // false, oops!\r\n  \r\n    //           // anything involving '=' should use the '+' prefix\r\n    //           // it will then compare the dates' millisecond values\r\n    //           console.log('+x <= +y', +x <= +y); // true\r\n    //           console.log('+x >= +y', +x >= +y); // true\r\n    //           console.log('+x === +y', +x === +y); // true\r\n    //           */\r\n    //           console.log('task display Date isBefore or isSame to today?', +new Date(item.data.repeatSettings['display date']) <= +new Date(datetime));\r\n    //           console.log(displayDateReached(item.data.repeatSettings['display date'],datetime))\r\n    //       }\r\n    //   })\r\n\r\n    async function handleCompleteTask(projectId,itemId, taskName){\r\n        console.log(projectId);\r\n        console.log(projectId,itemId, taskName);\r\n        await addHistoryEntryToProject(currentUser.email,projectId, taskName)\r\n        await deleteTaskFromProject(projectId,itemId)\r\n        const newProjectInfo = await getCurrentProjectData(projectId);\r\n            const newProjectData = {\r\n                id: projectId,\r\n                data: newProjectInfo\r\n            }\r\n        await assignProject(newProjectData);\r\n    }\r\n\r\n    async function handleTaskMenu(taskName){\r\n        console.log(window.prompt(`Who you want to assign this '${taskName}' Task?`));\r\n    }\r\n\r\n    async function handleToProjectOverview(project){\r\n        try {\r\n            console.log(project.id)\r\n            await assignProject(project);\r\n            // await setPreset(\"newspaper\")\r\n            await setPreset(\"pushTopPullBottom\")\r\n            history.push('/project-overview')\r\n            // TODO \r\n            // 1. set Dashboard & Taskboard seperate\r\n            // 2. implement some load project by ID, and open only if user is shared to this particular project\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    var currentdate = new Date(); \r\n    var datetime = currentdate.getFullYear() + \"-\"\r\n    + (currentdate.getMonth()+1)  + \"-\" \r\n    + currentdate.getDate();\r\n    return (\r\n        <ul className=\"task-listing\">\r\n        {tasks.filter((item, i) => {\r\n            if('repeatSettings' in item.data && displayDateReached(item.data.repeatSettings['display date'],datetime)){\r\n                return item;\r\n            }\r\n            if(!('repeatSettings' in item.data)){\r\n                return item;\r\n            }\r\n        }).map((item,i) => \r\n            <li key={i} className=\"task-list\" >\r\n                <button onClick={() => handleCompleteTask(projectId,item.id,item.data.name)}>done</button>\r\n                <button onClick={() => handleTaskMenu(item.data.name)}>assign</button> \r\n                <p onClick={() => window.prompt(`Name: ${item.data.name} \\nDescription: ${item.data.description}`)}>{item.data.name}</p>\r\n            </li>\r\n            )\r\n        }\r\n        </ul>\r\n    )\r\n}\r\n","import React, { useRef, useState, useContext, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { useDB } from '../service/DatabaseContext'\r\nimport { useProject } from '../service/ProjectContext'\r\nimport { AiOutlineArrowLeft, AiFillEdit } from 'react-icons/ai'\r\nimport { BiShareAlt } from 'react-icons/bi'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\nimport BottomNav from '../components/BottomNav';\r\nimport TaskSelection from '../components/TaskSelection';\r\n\r\nexport default function ProjectOverview() {\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n\r\n    const projectNameRef = useRef()\r\n    const projectDescriptionRef = useRef()\r\n    const projectColorRef = useRef()\r\n\r\n    const { currentUser , updatePassword, updateEmail, logout } = useAuth()\r\n    const { addProject , shareProjectWithUser, addHistoryEntryToProject,getCurrentProjectData } = useDB()\r\n    const { projectId, projectName, projectColor, tasks, deleteTaskFromProject, projectOwner, projectOverview , assignProject} = useProject()\r\n\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [color, setColor] = useState('#047AED');\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n                \r\n      },[]);\r\n    \r\n    \r\n    async function handleToDashboard(){\r\n        try {\r\n            // await setPreset(\"fall\")\r\n            // await setPreset(\"newspaper\")\r\n            await setPreset(\"pushBottomPullTop\")\r\n            history.push('/')\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n    async function handleToModifyProject(){\r\n        await setPreset(\"fadeFromBottom\")\r\n        history.push('/modify-project')\r\n    }\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        if (projectNameRef.current.value.length < 4) {\r\n            return setError('Enter a suitable Projectname')\r\n        }\r\n        setLoading(true)\r\n        setError('')\r\n        console.log(projectNameRef.current.value,projectDescriptionRef.current.value,projectColorRef.current.value)\r\n        //name, description, color, owner\r\n        await addProject(projectNameRef.current.value,projectDescriptionRef.current.value,projectColorRef.current.value,currentUser.email)\r\n        setLoading(false)\r\n        await setPreset(\"cubeToTop\")\r\n        history.push('/')\r\n    }\r\n\r\n    async function handleSharingProject(){\r\n        var email = window.prompt(\"Which email you wanna share?\")\r\n        if(email){\r\n            const projectInfo = await shareProjectWithUser(email,projectId)\r\n            const newProjectInfo = await getCurrentProjectData(projectId);\r\n            const newProjectData = {\r\n                id: projectId,\r\n                data: newProjectInfo\r\n            }\r\n            await assignProject(newProjectData);\r\n            }\r\n    }\r\n    async function handleLogout(){\r\n        setError('')\r\n        try {\r\n            await logout()\r\n            history.push('/login')\r\n        } catch (error) {\r\n            setError('Failed to log out')\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <div className=\"navbar-profile-top\">\r\n                    <div className=\"align-placeholder\">\r\n                        <Link className=\"align-left\" onClick={handleToDashboard}><AiOutlineArrowLeft title={currentUser.email} color=\"red\" size=\"1.5em\"/></Link>\r\n                    </div>\r\n                     <div className=\"align-right\">\r\n                     {currentUser.email === projectOwner ?\r\n                        <Link>\r\n                            <BiShareAlt onClick={handleSharingProject} title={currentUser.email} color=\"red\" size=\"1.5em\"/>\r\n                        </Link>\r\n                        : \"\"}\r\n                        <Link>\r\n                            <AiFillEdit title={currentUser.email} onClick={handleToModifyProject} color=\"red\" size=\"1.5em\"/>\r\n                        </Link>\r\n                    </div> \r\n                </div>\r\n                {/* <h5>Project Overview</h5> */}\r\n                <h2>{projectName}</h2>\r\n                <p className=\"separator\" style={{backgroundColor:projectColor}}>&nbsp;</p>\r\n                <TaskSelection />\r\n                <BottomNav />\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, { useRef, useState, useContext,useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { useDB } from '../service/DatabaseContext'\r\nimport { useProject } from '../service/ProjectContext'\r\nimport { AiOutlineArrowLeft, AiOutlinePlusCircle } from 'react-icons/ai'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\n\r\nexport default function HistoryView() {\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n    const history = useHistory()\r\n    const { projectOverview} = useProject()\r\n    const { projects } = useDB()\r\n    const { currentUser } = useAuth()\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n        console.log(projectOverview)\r\n        console.log(projectOverview.data.history)\r\n        projectOverview.data.history.map((item, index) => { console.log(item.task)})\r\n      },[]);\r\n    \r\n    async function handleToBack(){\r\n        try {\r\n            // await setPreset(\"fall\")\r\n            await setPreset(\"moveToRightFromLeft\")\r\n            //history.push('/modify-project')\r\n            history.goBack()\r\n            // TODO set Dashboard & Taskboard seperate\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n            console.log(\"ERROR HANDLETOBACK:\")\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"text-center\">\r\n                <div className=\"navbar-profile-top\">\r\n                <Link className=\"align-left\" onClick={handleToBack}><AiOutlineArrowLeft title={currentUser.email} color=\"red\" size=\"1.5em\"/></Link>\r\n                    <h2>{projectOverview.data.name}</h2>\r\n                    <p>History:</p>\r\n                </div>\r\n                <div className=\"navbar-placeholder\">\r\n                </div>\r\n                <ul className=\"history-list text-left\">\r\n                    {projectOverview.data.history.reverse().map((item, index)=> <li key={index}>\r\n                            <div className=\"flex-center-start\">\r\n                                <div><AiOutlinePlusCircle size=\"2em\"/></div>\r\n                                <div>\r\n                                    <p>{item.datetime}</p>\r\n                                    <p>{item.email}</p>\r\n                                    <p>{item.task}</p>\r\n                                </div>\r\n                            </div>\r\n                        </li>)}\r\n                </ul>\r\n                \r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, {useState, useRef,useContext,useEffect} from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {useAuth} from '../service/AuthContext'\r\nimport { useProject } from '../service/ProjectContext'\r\nimport { AiFillSetting } from 'react-icons/ai'\r\nimport BottomNav from '../components/BottomNav'\r\nimport TopNav from '../components/TopNav'\r\n\r\nexport default function Taskboard() {\r\n    const [error, setError] = useState('')\r\n    const {currentUser} = useAuth()\r\n    const { userTasks } = useProject()\r\n\r\n    useEffect(() => {\r\n        // TODO remove useEffect after testing\r\n        \r\n      },[]);   \r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <TopNav />\r\n                {error && <h1>{error}</h1>}\r\n                <p>Assigned Task:</p>\r\n                <ul className=\"task-listing\">\r\n                {\r\n                    userTasks.map(\r\n                        (task,i) => task.map( \r\n                            (item,j) => <li key={j} className=\"task-list\" ><button >done</button><p>{item.data.name}</p></li>\r\n                        )\r\n                    )\r\n                }\r\n                </ul>\r\n\r\n                \r\n               \r\n                <BottomNav />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React, { useRef, useState, useContext } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport { AiOutlineArrowLeft } from 'react-icons/ai'\r\nimport { AppTransitionContext } from '../service/AppTransitionContext'\r\n\r\nexport default function UpdateProfile() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordConfirmRef = useRef()\r\n    const { currentUser , updatePassword, updateEmail, logout } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n    const { setPreset } = useContext(AppTransitionContext);\r\n    async function handleToDashboard(){\r\n        try {\r\n            await setPreset(\"moveToRightFromLeft\")\r\n            history.push('/')\r\n            // TODO set Dashboard & Taskboard seperate\r\n            // await setPreset(\"cubeToTop\")\r\n        } catch (error) {\r\n        }\r\n\r\n    }\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault()\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError('Passwords do not match')\r\n        }\r\n\r\n        const promises = []\r\n        setLoading(true)\r\n        setError('')\r\n        if(emailRef.current.value !== currentUser.email){\r\n            promises.push(updateEmail(emailRef.current.value))\r\n        }\r\n        if(passwordRef.current.value){\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n        Promise.all(promises).then(() => {\r\n            history.push('/')\r\n        }).catch((error) => {\r\n            setError('Failed to update account\\n'+error)\r\n            console.log(error)\r\n        }).finally( () => {\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    async function handleLogout(){\r\n        setError('')\r\n        try {\r\n            await logout()\r\n            history.push('/login')\r\n        } catch (error) {\r\n            setError('Failed to log out')\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <div className=\"navbar-profile-top\">\r\n                    <div className=\"align-placeholder\">\r\n                        <Link className=\"align-left\" onClick={handleToDashboard}><AiOutlineArrowLeft title={currentUser.email} color=\"red\" size=\"1.5em\"/></Link>\r\n                    </div>\r\n                    <h2>Busybag</h2>\r\n                    <p>Keep track and do all</p>\r\n                    <strong>Email:</strong>{currentUser.email}\r\n                </div>\r\n                <div className=\"navbar-placeholder\">\r\n                </div>\r\n                <button onClick={handleLogout} >Logout</button>\r\n                <h2>---</h2>\r\n                <h2>Update</h2>\r\n                <div className=\"card\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input type=\"email\" placeholder=\"Email\" ref={emailRef} defaultValue={currentUser.email}/>\r\n                        <input type=\"password\" placeholder=\"Password\"ref={passwordRef} placeholder=\"Leave blank to keep the same\"/>\r\n                        <input type=\"password\" placeholder=\"Password Confirm\" ref={passwordConfirmRef} placeholder=\"Leave blank to keep the same\"/>\r\n                        {error && <h1>{error}</h1>}\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading}> Save </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, { useRef, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Logo from '../components/Logo';\r\nimport { useAuth } from '../service/AuthContext'\r\nimport PWAPrompt from 'react-ios-pwa-prompt'\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const {login } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        \r\n        try{\r\n            setError('')\r\n            setLoading(true)\r\n            await login(emailRef.current.value, passwordRef.current.value)\r\n            history.push(\"/\")\r\n        }catch{\r\n            setError('Failed to login via Acccount')\r\n        }\r\n        setLoading(true)\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <PWAPrompt />\r\n            <div className=\"container text-center\">\r\n                <h2>Busybag</h2>\r\n                <Logo />\r\n                <p>Keep track and do all</p>\r\n                <div className=\"card\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input type=\"email\" placeholder=\"Email\" ref={emailRef}/>\r\n                        <input type=\"password\" placeholder=\"Password\"ref={passwordRef}/>\r\n                        {error && <h1>{error}</h1>}\r\n                        <Link to=\"/forgot-password\" className=\"text-right\">Forgot Password?</Link>\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading}> Login </button>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport {useAuth} from '../service/AuthContext'\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n    const { currentUser } = useAuth()\r\n  \r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props => {\r\n          return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n        }}\r\n      ></Route>\r\n    )\r\n  }\r\n","import React, { useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from '../components/Logo';\r\nimport { useAuth } from '../service/AuthContext'\r\n\r\nexport default function ForgotPassword() {\r\n    const emailRef = useRef()\r\n    const { resetPassword } = useAuth()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n\r\n    async function handleSubmit(e){\r\n        e.preventDefault()\r\n        \r\n        try{\r\n            setMessage('')\r\n            setError('')\r\n            setLoading(true)\r\n            await resetPassword(emailRef.current.value)\r\n            setMessage('Check your inbox for further instructions')\r\n        }catch{\r\n            setError('Failed to reset Password')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container text-center\">\r\n                <h2>Busybag</h2>\r\n                <Logo />\r\n                <p>Keep track and do all</p>\r\n                <div className=\"card\">\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input type=\"email\" placeholder=\"Email\" ref={emailRef}/>\r\n                        {error && <h1>{error}</h1>}\r\n                        {message && <h1>{message}</h1>}\r\n                        <button type=\"submit\" className=\"signin___button\" disabled={loading}> Reset Password </button>  \r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    Back to Login? <Link to=\"/login\">Login</Link>\r\n                </div>\r\n                <div>\r\n                    Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import '../Main.css';\nimport { useContext } from \"react\";\nimport Signup from '../pages/Signup';\nimport { AuthProvider } from '../service/AuthContext';\nimport { DatabaseProvider } from '../service/DatabaseContext';\nimport { ProjectProvider } from '../service/ProjectContext';\nimport { ThemeProvider } from '../service/ThemeContext';\n// import { BrowserRouter as Router,Switch,Route} from 'react-router-dom'\nimport { HashRouter as Router,Switch,Route} from 'react-router-dom'\nimport Dashboard from '../pages/Dashboard'\nimport CreateProject from '../pages/CreateProject'\nimport ModifyProject from '../pages/ModifyProject';\nimport CreateTask from '../pages/CreateTask'\nimport ProjectOverview from '../pages/ProjectOverview'\nimport HistoryView from '../pages/HistoryView'\nimport Taskboard from '../pages/Taskboard'\nimport UpdateProfile from '../pages/UpdateProfile'\nimport Login from '../pages/Login'\nimport PrivateRoute from './PrivateRoute'\nimport ForgotPassword from '../pages/ForgotPassword';\n\n\nimport { AppTransitionContext } from '../service/AppTransitionContext'\nimport { PageTransition } from '@steveeeie/react-page-transition';\n// https://github.com/Steveeeie/react-page-transition\n\nfunction App() {\n  const { preset, enterAnimation , exitAnimation } = useContext(AppTransitionContext);\n  return (\n\n    <Router>\n        <AuthProvider>\n        <ThemeProvider>\n        <DatabaseProvider>\n        <ProjectProvider>\n        <Route\n            render={({ location }) => {return (\n                <PageTransition\n                  preset={preset}\n                  transitionKey={location.pathname}\n                  enterAnimation={enterAnimation}\n                  exitAnimation={exitAnimation}\n                >\n                <Switch location={location}>\n                \n                    <PrivateRoute exact path=\"/\"  component={Dashboard} />\n                    <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n                    <PrivateRoute path=\"/task-board\" component={Taskboard} />\n                    <PrivateRoute path=\"/create-project\" component={CreateProject} />\n                    <PrivateRoute path=\"/modify-project\" component={ModifyProject} />\n                    <PrivateRoute path=\"/create-task\" component={CreateTask} />\n                    <PrivateRoute path=\"/project-overview\" component={ProjectOverview} />\n                    <PrivateRoute path=\"/history-view\" component={HistoryView} />\n                    \n                  <Route path=\"/signup\" component={Signup} />\n                  <Route path=\"/login\" component={Login} />\n                  <Route path=\"/forgot-password\" component={ForgotPassword} />\n                </Switch>\n              </PageTransition>\n              );\n            }}\n          />\n          </ProjectProvider>\n          </DatabaseProvider>\n          </ThemeProvider>\n        </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    window.location.hostname === 'https://crisscrosscrass.github.io/busybag/#' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://cra.link/PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                \"tabs for this page are closed. See https://cra.link/PWA.\"\n                            );\n                            alert(\"This App has been updated, please close and restart\");\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n            headers: { 'Service-Worker': 'script' },\n        })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Main.css';\nimport App from './components/App';\nimport { AppTransitionProvider } from './service/AppTransitionContext'\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <AppTransitionProvider>\n    <App />\n    </AppTransitionProvider>\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}