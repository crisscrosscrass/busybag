(this.webpackJsonpbusybag=this.webpackJsonpbusybag||[]).push([[0],{36:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(2),a=n.n(r),s=n(24),o=n.n(s),i=(n(36),n(12)),l=n.n(i),u=n(19),j=n(6),d=n(8),b=n(9),h=n.p+"static/media/unnamed.ea125fe9.png";function p(){return Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:h,alt:"Logo"})})}var O=n(32),f=(n(50),n(57),O.a.initializeApp({apiKey:"AIzaSyAPyppmyjBKQjIS4o1nRk6N-UxkW54rFPA",authDomain:"busybag-f27f9.firebaseapp.com",projectId:"busybag-f27f9",storageBucket:"busybag-f27f9.appspot.com",messagingSenderId:"622475419405",appId:"1:622475419405:web:d8022f00e74e3ede131a44"})),x=f.auth(),v=(new O.a.auth.GoogleAuthProvider,f.firestore()),m=a.a.createContext();function g(){return Object(r.useContext)(m)}function w(e){var t=e.children,n=Object(r.useState)(),a=Object(j.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!0),l=Object(j.a)(i,2),u=l[0],d=l[1];Object(r.useEffect)((function(){return x.onAuthStateChanged((function(e){o(e),d(!1)}))}),[]);var b={currentUser:s,login:function(e,t){return x.signInWithEmailAndPassword(e,t)},logout:function(){return x.signOut()},signup:function(e,t){return x.createUserWithEmailAndPassword(e,t)},resetPassword:function(e){return x.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(c.jsx)(m.Provider,{value:b,children:!u&&t})}function y(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),a=g().signup,s=Object(r.useState)(""),o=Object(j.a)(s,2),i=o[0],h=o[1],O=Object(r.useState)(!1),f=Object(j.a)(O,2),x=f[0],v=f[1],m=Object(d.g)();function w(){return(w=Object(u.a)(l.a.mark((function c(r){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",h("Passwords do not match"));case 3:return c.prev=3,h(""),v(!0),c.next=8,a(e.current.value,t.current.value);case 8:m.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),h("Failed to create an Acccount");case 14:v(!0);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(c.jsx)("section",{children:Object(c.jsxs)("div",{className:"container text-center",children:[Object(c.jsx)("h2",{children:"Busybag"}),Object(c.jsx)(p,{}),Object(c.jsx)("p",{children:"Keep track and do all"}),Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(c.jsx)("input",{type:"email",placeholder:"Email",ref:e}),Object(c.jsx)("input",{type:"password",placeholder:"Password",ref:t}),Object(c.jsx)("input",{type:"password",placeholder:"Password Confirm",ref:n}),i&&Object(c.jsx)("h1",{children:i}),Object(c.jsx)("button",{type:"submit",className:"signin___button",disabled:x,children:" Sign up "})]})}),Object(c.jsxs)("div",{children:["Already have an account? ",Object(c.jsx)(b.b,{to:"/login",children:"Login"})]})]})})}var k=a.a.createContext();function P(e){var t=e.children,n=Object(r.useState)([]),a=Object(j.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1];Object(r.useEffect)((function(){x.onAuthStateChanged((function(e){e&&(v.collection("projects").where("user","==",e.email).onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),d(!1))}));return function(){!1}}),[]);var b={projects:s,loadingProjects:function(e){v.collection("projects").where("user","==","fovem84447@nonicamy.com").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),d(!1)},addProject:function(e,t){v.collection("projects").add({name:e,user:t}).then((function(e){return e.id})).catch((function(e){return console.error("Error adding document: ",e)}))},deleteProject:function(e){var t=v.collection(e);t.onSnapshot((function(e){e.docs.forEach((function(e){t.doc(e.id).delete()}))})),v.collection(e).doc(e).delete(),v.collection("projects").doc(e).delete()},addTaskToProject:function(e,t,n){v.collection(e).add({name:t,user:n})}};return Object(c.jsx)(k.Provider,{value:b,children:!u&&t})}var S=a.a.createContext();function N(e){var t=e.children,n=Object(r.useState)(""),a=Object(j.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!0),l=Object(j.a)(i,2),u=l[0],d=l[1];Object(r.useEffect)((function(){o("#E13B64"),d(!1)}),[]);var b={themePrimary:s,toggleTheme:function(e){return o("#047AED"===e?"#E13B64":"#047AED"),e}};return Object(c.jsx)(S.Provider,{value:b,children:!u&&t})}var C=n(21),E=n(39),A=n(38);function R(){return Object(c.jsxs)("div",{className:"navbar-bottom",children:[Object(c.jsx)(b.b,{to:"/",children:Object(c.jsx)(A.a,{size:"2em"})}),Object(c.jsx)(b.b,{to:"/",children:Object(c.jsx)(C.d,{size:"2em"})}),Object(c.jsx)(b.b,{to:"/task-board",children:Object(c.jsx)(E.a,{size:"2em"})})]})}var L=Object(r.createContext)();function U(e){var t=e.children,n=Object(r.useState)("cubeToLeft"),a=Object(j.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(""),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)(""),h=Object(j.a)(b,2),p=h[0],O=h[1];return Object(c.jsx)(L.Provider,{value:{preset:s,enterAnimation:u,exitAnimation:p,setPreset:o,setEnterAnimation:d,setExitAnimation:O},children:t})}function B(){var e=g().currentUser,t=Object(d.g)(),n=Object(r.useContext)(L).setPreset;function a(){return(a=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("moveToLeftFromRight");case 3:t.push("/update-profile"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"navbar-top",children:[Object(c.jsx)(b.b,{to:"/#",className:"align-right",onClick:function(){return a.apply(this,arguments)},children:Object(c.jsx)(C.a,{title:e.email,color:"red",size:"1.5em"})}),Object(c.jsx)("div",{className:"align-placeholder"}),Object(c.jsx)("h2",{children:"Busybag"}),Object(c.jsx)("p",{children:"Keep track and do all"}),Object(c.jsx)("strong",{children:"Email:"}),e.email]}),Object(c.jsx)("div",{className:"navbar-placeholder"})]})}function F(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=(t[1],g().currentUser),s=Object(r.useContext)(S),o=s.themePrimary,i=(s.toggleTheme,Object(r.useContext)(k)),l=i.projects,u=i.addProject,b=i.deleteProject,h=i.addTaskToProject,p=(Object(d.g)(),Object(r.useRef)());var O={backgroundColor:o};return Object(c.jsx)("section",{children:Object(c.jsxs)("div",{className:"container text-center",children:[Object(c.jsx)(B,{}),Object(c.jsxs)("div",{className:"main-container",children:[n&&Object(c.jsx)("h1",{children:n}),Object(c.jsxs)("div",{className:"projects",children:[Object(c.jsx)("button",{className:"project flex-center",children:Object(c.jsx)(C.c,{size:"4em"})}),Object(c.jsxs)("div",{className:"project",children:[Object(c.jsx)("input",{type:"text",placeholder:"Name",ref:p}),Object(c.jsx)("button",{onClick:function(){console.log("Create a new Project"),u(p.current.value,a.email)},style:O,children:"Create Project"})]}),l.map((function(e,t){return Object(c.jsxs)("div",{className:"project",children:[Object(c.jsx)("div",{children:e.data.name}),Object(c.jsx)("button",{onClick:function(){return t=e.id,void h(t,"Geschirrsp\xfcler",!1);var t},children:" Open "}),Object(c.jsx)("button",{onClick:function(){return t=e.id,n=e.data.name,console.log("Delete this project ".concat(t," now")),void(window.confirm("Delete everything on ".concat(n,"?"))&&b(t));var t,n},children:" Delete "})]},t)}))]})]}),Object(c.jsx)(R,{})]})})}function T(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0];t[1],g().currentUser;return Object(c.jsx)("section",{children:Object(c.jsxs)("div",{className:"container text-center",children:[Object(c.jsx)(B,{}),n&&Object(c.jsx)("h1",{children:n}),Object(c.jsx)("p",{children:"Some assign tasks here..."}),Object(c.jsx)(R,{})]})})}var _=n(27);function D(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),a=g(),s=a.currentUser,o=a.updatePassword,i=a.updateEmail,h=a.logout,p=Object(r.useState)(""),O=Object(j.a)(p,2),f=O[0],x=O[1],v=Object(r.useState)(!1),m=Object(j.a)(v,2),w=m[0],y=m[1],k=Object(d.g)(),P=Object(r.useContext)(L).setPreset;function S(){return(S=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("moveToRightFromLeft");case 3:k.push("/"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),e.prev=1,e.next=4,h();case 4:k.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),x("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.jsx)("section",{children:Object(c.jsxs)("div",{className:"container text-center",children:[Object(c.jsxs)("div",{className:"navbar-profile-top",children:[Object(c.jsx)("div",{className:"align-placeholder",children:Object(c.jsx)(b.b,{className:"align-left",onClick:function(){return S.apply(this,arguments)},children:Object(c.jsx)(C.b,{title:s.email,color:"red",size:"1.5em"})})}),Object(c.jsx)("h2",{children:"Busybag"}),Object(c.jsx)("p",{children:"Keep track and do all"}),Object(c.jsx)("strong",{children:"Email:"}),s.email]}),Object(c.jsx)("div",{className:"navbar-placeholder"}),Object(c.jsx)("button",{onClick:function(){return N.apply(this,arguments)},children:"Logout"}),Object(c.jsx)("h2",{children:"---"}),Object(c.jsx)("h2",{children:"Update"}),Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("form",{onSubmit:function(c){if(c.preventDefault(),t.current.value!==n.current.value)return x("Passwords do not match");var r=[];y(!0),x(""),e.current.value!==s.email&&r.push(i(e.current.value)),t.current.value&&r.push(o(t.current.value)),Promise.all(r).then((function(){k.push("/")})).catch((function(e){x("Failed to update account\n"+e),console.log(e)})).finally((function(){y(!1)}))},children:[Object(c.jsx)("input",{type:"email",placeholder:"Email",ref:e,defaultValue:s.email}),Object(c.jsx)("input",Object(_.a)({type:"password",placeholder:"Password",ref:t},"placeholder","Leave blank to keep the same")),Object(c.jsx)("input",Object(_.a)({type:"password",placeholder:"Password Confirm",ref:n},"placeholder","Leave blank to keep the same")),f&&Object(c.jsx)("h1",{children:f}),Object(c.jsx)("button",{type:"submit",className:"signin___button",disabled:w,children:" Save "})]})})]})})}function W(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=g().login,a=Object(r.useState)(""),s=Object(j.a)(a,2),o=s[0],i=s[1],h=Object(r.useState)(!1),O=Object(j.a)(h,2),f=O[0],x=O[1],v=Object(d.g)();function m(){return(m=Object(u.a)(l.a.mark((function c(r){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,i(""),x(!0),c.next=6,n(e.current.value,t.current.value);case 6:v.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),i("Failed to login via Acccount");case 12:x(!0);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(c.jsx)("section",{children:Object(c.jsxs)("div",{className:"container text-center",children:[Object(c.jsx)("h2",{children:"Busybag"}),Object(c.jsx)(p,{}),Object(c.jsx)("p",{children:"Keep track and do all"}),Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(c.jsx)("input",{type:"email",placeholder:"Email",ref:e}),Object(c.jsx)("input",{type:"password",placeholder:"Password",ref:t}),o&&Object(c.jsx)("h1",{children:o}),Object(c.jsx)(b.b,{to:"/forgot-password",className:"text-right",children:"Forgot Password?"}),Object(c.jsx)("button",{type:"submit",className:"signin___button",disabled:f,children:" Login "})]})}),Object(c.jsxs)("div",{children:["Need an account? ",Object(c.jsx)(b.b,{to:"/signup",children:"Sign Up"})]})]})})}var z=n(17),I=n(29);function K(e){var t=e.component,n=Object(I.a)(e,["component"]),r=g().currentUser;return Object(c.jsx)(d.b,Object(z.a)(Object(z.a)({},n),{},{render:function(e){return r?Object(c.jsx)(t,Object(z.a)({},e)):Object(c.jsx)(d.a,{to:"/login"})}}))}function G(){var e=Object(r.useRef)(),t=g().resetPassword,n=Object(r.useState)(""),a=Object(j.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!1),d=Object(j.a)(i,2),h=d[0],O=d[1],f=Object(r.useState)(""),x=Object(j.a)(f,2),v=x[0],m=x[1];function w(){return(w=Object(u.a)(l.a.mark((function n(c){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,m(""),o(""),O(!0),n.next=7,t(e.current.value);case 7:m("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),o("Failed to reset Password");case 13:O(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(c.jsx)("section",{children:Object(c.jsxs)("div",{className:"container text-center",children:[Object(c.jsx)("h2",{children:"Busybag"}),Object(c.jsx)(p,{}),Object(c.jsx)("p",{children:"Keep track and do all"}),Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(c.jsx)("input",{type:"email",placeholder:"Email",ref:e}),s&&Object(c.jsx)("h1",{children:s}),v&&Object(c.jsx)("h1",{children:v}),Object(c.jsx)("button",{type:"submit",className:"signin___button",disabled:h,children:" Reset Password "})]})}),Object(c.jsxs)("div",{children:["Back to Login? ",Object(c.jsx)(b.b,{to:"/login",children:"Login"})]}),Object(c.jsxs)("div",{children:["Need an account? ",Object(c.jsx)(b.b,{to:"/signup",children:"Sign Up"})]})]})})}var J=n(43);var Q=function(){var e=Object(r.useContext)(L),t=e.preset,n=e.enterAnimation,a=e.exitAnimation;return Object(c.jsx)(b.a,{children:Object(c.jsx)(w,{children:Object(c.jsx)(N,{children:Object(c.jsx)(P,{children:Object(c.jsx)(d.b,{render:function(e){var r=e.location;return Object(c.jsx)(J.a,{preset:t,transitionKey:r.pathname,enterAnimation:n,exitAnimation:a,children:Object(c.jsxs)(d.d,{location:r,children:[Object(c.jsx)(K,{exact:!0,path:"/",component:F}),Object(c.jsx)(K,{path:"/update-profile",component:D}),Object(c.jsx)(K,{path:"/task-board",component:T}),Object(c.jsx)(d.b,{path:"/signup",component:y}),Object(c.jsx)(d.b,{path:"/login",component:W}),Object(c.jsx)(d.b,{path:"/forgot-password",component:G})]})})}})})})})})},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(U,{children:Object(c.jsx)(Q,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/busybag",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/busybag","/service-worker.js");V?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$(t,e)}))}}(),q()}},[[56,1,2]]]);
//# sourceMappingURL=main.724f0755.chunk.js.map